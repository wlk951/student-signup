<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>å­¦ç”ŸæŠ¥åç³»ç»Ÿ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Microsoft YaHei', sans-serif; background: #f5f7fa; padding: 15px; }
        .container { max-width: 800px; margin: 0 auto; background: white; border-radius: 15px; padding: 25px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        h1 { color: #1e5799; text-align: center; margin-bottom: 20px; font-size: 28px; }
        .qr-section { text-align: center; background: #f8f9fa; padding: 25px; border-radius: 15px; margin-bottom: 20px; }
        #qrcode { margin: 20px auto; display: inline-block; padding: 15px; background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .stats { background: #e8f4ff; padding: 15px; border-radius: 10px; margin-bottom: 20px; text-align: center; font-size: 18px; }
        .form-section { background: #f9f9f9; padding: 20px; border-radius: 10px; }
        h2 { color: #2980b9; margin-bottom: 15px; font-size: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 600; }
        .required:after { content: " *"; color: #e74c3c; }
        input, select { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; }
        input:focus, select:focus { border-color: #1e5799; outline: none; }
        .checkbox-group { display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0; }
        .checkbox-item { display: flex; align-items: center; }
        .checkbox-item input { width: 20px; height: 20px; margin-right: 8px; }
        .btn { width: 100%; padding: 15px; border: none; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer; margin: 10px 0; }
        .btn-primary { background: #1e5799; color: white; }
        .btn-success { background: #27ae60; color: white; }
        .btn-warning { background: #f39c12; color: white; }
        .message { padding: 12px; border-radius: 8px; margin: 10px 0; display: none; }
        .message.success { background: #d4edda; color: #155724; }
        .message.error { background: #f8d7da; color: #721c24; }
        .admin-panel { margin-top: 30px; padding: 20px; background: #f0f0f0; border-radius: 10px; display: none; }
        .footer { text-align: center; margin-top: 30px; color: #666; font-size: 14px; }
        .print-btn { background: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 10px 5px; }
        .qr-actions { margin: 15px 0; }
        .info-box { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 8px; margin: 15px 0; }
    </style>
    <!-- å¼•å…¥äºŒç»´ç ç”Ÿæˆåº“ -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>ğŸ“ å­¦ç”ŸæŠ¥åä¿¡æ¯é‡‡é›†ç³»ç»Ÿ</h1>
        
        <!-- ç»Ÿè®¡ä¿¡æ¯ -->
        <div class="stats">
            ğŸ“Š å·²æŠ¥åï¼š<span id="totalCount">0</span> äºº | 
            ä»Šæ—¥æŠ¥åï¼š<span id="todayCount">0</span> äºº
        </div>
        
        <!-- æç¤ºä¿¡æ¯ -->
        <div id="message" class="message"></div>
        
        <!-- äºŒç»´ç åŒºåŸŸ - å­¦ç”Ÿç”¨æ‰‹æœºæ‰«ç  -->
        <div class="qr-section">
            <h2 style="color: #1e5799;">ğŸ“± æ‰‹æœºæ‰«ç æŠ¥å</h2>
            <p style="margin-bottom: 15px;">ç”¨æ‰‹æœºå¾®ä¿¡/æµè§ˆå™¨æ‰«æä¸‹æ–¹äºŒç»´ç ç›´æ¥å¡«å†™</p>
            
            <div id="qrcode"></div>
            
            <div class="qr-actions">
                <button onclick="downloadQR()" class="print-btn">ğŸ“¥ ä¸‹è½½äºŒç»´ç </button>
                <button onclick="printQR()" class="print-btn">ğŸ–¨ï¸ æ‰“å°äºŒç»´ç </button>
            </div>
            
            <div class="info-box">
                <strong>ğŸ“Œ ä½¿ç”¨è¯´æ˜ï¼š</strong>
                <ol style="text-align: left; margin-top: 10px; padding-left: 20px;">
                    <li><strong>æ­¥éª¤1ï¼š</strong>æŠŠäºŒç»´ç æ‰“å°å‡ºæ¥ï¼Œè´´åœ¨å­¦æ ¡å…¬å‘Šæ æˆ–æ•™å®¤</li>
                    <li><strong>æ­¥éª¤2ï¼š</strong>å­¦ç”Ÿç”¨æ‰‹æœºæ‰«æäºŒç»´ç ï¼Œç›´æ¥å¡«å†™æŠ¥åä¿¡æ¯</li>
                    <li><strong>æ­¥éª¤3ï¼š</strong>ç®¡ç†å‘˜éšæ—¶å¯ä»¥å¯¼å‡ºæ‰€æœ‰æŠ¥åæ•°æ®</li>
                    <li><strong>æ³¨æ„ï¼š</strong>æ¯ä¸ªå­¦ç”Ÿåªèƒ½æäº¤ä¸€æ¬¡ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æŸ¥èº«ä»½è¯é‡å¤</li>
                </ol>
            </div>
            
            <p style="margin-top: 15px; color: #666;">
                <small>è®¿é—®åœ°å€ï¼š<span id="currentUrl"></span></small>
            </p>
        </div>
        
        <!-- ç®¡ç†å‘˜ç™»å½•æŒ‰é’® -->
        <button onclick="toggleAdmin()" class="btn btn-warning">ğŸ‘¤ ç®¡ç†å‘˜å…¥å£</button>
        
        <!-- ç®¡ç†å‘˜é¢æ¿ -->
        <div id="adminPanel" class="admin-panel">
            <h3 style="margin-bottom: 15px;">ç®¡ç†å‘˜ç™»å½•</h3>
            <div class="form-group">
                <input type="password" id="adminPass" placeholder="è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ">
            </div>
            <button onclick="loginAdmin()" class="btn btn-success" style="padding: 10px;">ç™»å½•</button>
            
            <div id="adminFunctions" style="display: none; margin-top: 20px;">
                <h4>æ•°æ®ç®¡ç†</h4>
                <button onclick="exportData('excel')" class="btn btn-primary" style="margin: 5px 0;">ğŸ“Š å¯¼å‡ºExcelæ–‡ä»¶</button>
                <button onclick="exportData('json')" class="btn btn-success" style="margin: 5px 0;">ğŸ“„ å¯¼å‡ºJSONæ–‡ä»¶</button>
                <button onclick="viewData()" class="btn btn-warning" style="margin: 5px 0;">ğŸ‘ï¸ æŸ¥çœ‹æ‰€æœ‰æ•°æ®</button>
                <button onclick="clearAllData()" class="btn" style="background: #e74c3c; color: white; margin: 5px 0;">ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰æ•°æ®</button>
                
                <div id="dataView" style="margin-top: 20px; max-height: 300px; overflow: auto;"></div>
            </div>
        </div>
        
        <!-- å­¦ç”ŸæŠ¥åè¡¨å•ï¼ˆä¹Ÿå¯ä»¥ç›´æ¥åœ¨è¿™é‡Œå¡«ï¼‰ -->
        <div class="form-section">
            <h2>ğŸ“‹ åœ¨çº¿å¡«å†™æŠ¥åè¡¨</h2>
            
            <form id="studentForm">
                <h3>åŸºæœ¬ä¿¡æ¯</h3>
                
                <div class="form-group">
                    <label class="required">å§“å</label>
                    <input type="text" name="name" required>
                </div>
                
                <div class="form-group">
                    <label class="required">æ€§åˆ«</label>
                    <select name="gender" required>
                        <option value="">è¯·é€‰æ‹©</option>
                        <option value="ç”·">ç”·</option>
                        <option value="å¥³">å¥³</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="required">æ°‘æ—</label>
                    <input type="text" name="ethnicity" required placeholder="å¦‚ï¼šæ±‰æ—">
                </div>
                
                <div class="form-group">
                    <label class="required">èº«ä»½è¯å·ç </label>
                    <input type="text" name="idCard" maxlength="18" required placeholder="18ä½èº«ä»½è¯" id="idCard">
                    <small style="color: #666;">æäº¤å‰ä¼šè‡ªåŠ¨æ£€æŸ¥æ˜¯å¦é‡å¤</small>
                </div>
                
                <div class="form-group">
                    <label>å­¦ç±å·ï¼ˆé€‰å¡«ï¼‰</label>
                    <input type="text" name="studentNumber">
                </div>
                
                <div class="form-group">
                    <label>åŸå°±è¯»å­¦æ ¡ï¼ˆé€‰å¡«ï¼‰</label>
                    <input type="text" name="previousSchool">
                </div>
                
                <h3>å®¶åº­æƒ…å†µ</h3>
                
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" name="isPoorHousehold" id="poor">
                        <label for="poor">å»ºæ¡£ç«‹å¡æˆ·</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="isLeftBehindChild" id="left">
                        <label for="left">ç•™å®ˆå„¿ç«¥</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="isBoarder" id="boarder">
                        <label for="boarder">ä½æ ¡</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="isSingleParent" id="single">
                        <label for="single">å•äº²å®¶åº­</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="isDisabledChild" id="disabled">
                        <label for="disabled">æ®‹ç–¾å„¿ç«¥</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="required">æˆ·ç±åœ°ï¼ˆç²¾ç¡®åˆ°æ‘ï¼‰</label>
                    <input type="text" name="registeredAddress" required placeholder="ä¾‹å¦‚ï¼šXXçœXXå¸‚XXå¿XXé•‡XXæ‘">
                </div>
                
                <div class="form-group">
                    <label class="required">ç°å±…ä½åœ°ï¼ˆç²¾ç¡®åˆ°ç»„ï¼‰</label>
                    <input type="text" name="currentAddress" required placeholder="ä¾‹å¦‚ï¼šXXçœXXå¸‚XXå¿XXé•‡XXæ‘XXç»„">
                </div>
                
                <h3>ç›‘æŠ¤äººä¿¡æ¯</h3>
                
                <div class="form-group">
                    <label class="required">ç›‘æŠ¤äººå§“å</label>
                    <input type="text" name="guardianName" required>
                </div>
                
                <div class="form-group">
                    <label class="required">ä¸ç›‘æŠ¤äººå…³ç³»</label>
                    <select name="guardianRelation" required>
                        <option value="">è¯·é€‰æ‹©</option>
                        <option value="çˆ¶äº²">çˆ¶äº²</option>
                        <option value="æ¯äº²">æ¯äº²</option>
                        <option value="ç¥–çˆ¶">ç¥–çˆ¶</option>
                        <option value="ç¥–æ¯">ç¥–æ¯</option>
                        <option value="å¤–ç¥–çˆ¶">å¤–ç¥–çˆ¶</option>
                        <option value="å¤–ç¥–æ¯">å¤–ç¥–æ¯</option>
                        <option value="å…¶ä»–">å…¶ä»–</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="required">ç›‘æŠ¤äººèº«ä»½è¯</label>
                    <input type="text" name="guardianIdCard" maxlength="18" required>
                </div>
                
                <div class="form-group">
                    <label class="required">ç›‘æŠ¤äººç”µè¯</label>
                    <input type="tel" name="guardianPhone" maxlength="11" required placeholder="11ä½æ‰‹æœºå·">
                </div>
                
                <div class="form-group">
                    <label>åŒ…ä¿æ•™å¸ˆï¼ˆé€‰å¡«ï¼‰</label>
                    <input type="text" name="responsibleTeacher">
                </div>
                
                <button type="submit" class="btn btn-primary">âœ… æäº¤æŠ¥åä¿¡æ¯</button>
            </form>
        </div>
        
        <div class="footer">
            <p>Â© å­¦ç”ŸæŠ¥åç³»ç»Ÿ | æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨ä¸­ | ç®¡ç†å‘˜å¯†ç ï¼šadmin123</p>
        </div>
    </div>
    
    <script>
        // ========== æ•°æ®åˆå§‹åŒ– ==========
        let students = JSON.parse(localStorage.getItem('students')) || [];
        let adminLoggedIn = false;
        
        // é¡µé¢åŠ è½½æ—¶è¿è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            generateQRCode();
            document.getElementById('currentUrl').textContent = window.location.href;
            
            // æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
            if (students.length === 0) {
                showMessage('æ¬¢è¿ä½¿ç”¨ï¼è¯·æ‰“å°äºŒç»´ç è®©å­¦ç”Ÿæ‰«ç æŠ¥åã€‚', 'success');
            }
        });
        
        // ========== æ›´æ–°ç»Ÿè®¡ ==========
        function updateStats() {
            const total = students.length;
            const today = new Date().toDateString();
            const todayCount = students.filter(s => new Date(s.submissionTime).toDateString() === today).length;
            
            document.getElementById('totalCount').textContent = total;
            document.getElementById('todayCount').textContent = todayCount;
        }
        
        // ========== æ˜¾ç¤ºæ¶ˆæ¯ ==========
        function showMessage(text, type) {
            const msg = document.getElementById('message');
            msg.textContent = text;
            msg.className = `message ${type}`;
            msg.style.display = 'block';
            setTimeout(() => msg.style.display = 'none', 5000);
        }
        
        // ========== äºŒç»´ç åŠŸèƒ½ ==========
        function generateQRCode() {
            const url = window.location.href;
            const qrcodeDiv = document.getElementById('qrcode');
            qrcodeDiv.innerHTML = '';
            
            QRCode.toCanvas(qrcodeDiv, url, { width: 250 }, function(error) {
                if (error) console.error('äºŒç»´ç ç”Ÿæˆå¤±è´¥:', error);
            });
        }
        
        function downloadQR() {
            const canvas = document.querySelector('#qrcode canvas');
            if (!canvas) return alert('è¯·ç¨ç­‰ï¼ŒäºŒç»´ç æ­£åœ¨ç”Ÿæˆ...');
            
            const link = document.createElement('a');
            link.download = 'å­¦ç”ŸæŠ¥åäºŒç»´ç .png';
            link.href = canvas.toDataURL('image/png');
            link.click();
            showMessage('äºŒç»´ç å·²ä¸‹è½½ï¼', 'success');
        }
        
        function printQR() {
            const canvas = document.querySelector('#qrcode canvas');
            if (!canvas) return alert('è¯·ç¨ç­‰ï¼ŒäºŒç»´ç æ­£åœ¨ç”Ÿæˆ...');
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                <head>
                    <title>å­¦ç”ŸæŠ¥åç³»ç»ŸäºŒç»´ç </title>
                    <style>
                        body { font-family: Arial, sans-serif; text-align: center; padding: 30px; }
                        h2 { color: #1e5799; }
                        .qr { margin: 30px auto; }
                        .info { margin: 20px; padding: 15px; background: #f5f5f5; border-radius: 8px; text-align: left; }
                    </style>
                </head>
                <body>
                    <h2>å­¦ç”ŸæŠ¥åä¿¡æ¯é‡‡é›†ç³»ç»Ÿ</h2>
                    <p>è¯·ä½¿ç”¨æ‰‹æœºæ‰«æä¸‹æ–¹äºŒç»´ç å¡«å†™æŠ¥åä¿¡æ¯</p>
                    <div class="qr">${document.getElementById('qrcode').innerHTML}</div>
                    <div class="info">
                        <h3>ä½¿ç”¨è¯´æ˜ï¼š</h3>
                        <ol>
                            <li>æ‰“å¼€æ‰‹æœºå¾®ä¿¡/æµè§ˆå™¨</li>
                            <li>æ‰«æä¸Šæ–¹äºŒç»´ç </li>
                            <li>å¡«å†™æŠ¥åä¿¡æ¯å¹¶æäº¤</li>
                            <li>æ¯ä¸ªå­¦ç”Ÿåªèƒ½æäº¤ä¸€æ¬¡</li>
                        </ol>
                        <p><strong>è®¿é—®åœ°å€ï¼š</strong> ${window.location.href}</p>
                        <p><strong>ç”Ÿæˆæ—¶é—´ï¼š</strong> ${new Date().toLocaleString()}</p>
                    </div>
                </body>
                </html>
            `);
            printWindow.print();
        }
        
        // ========== èº«ä»½è¯éªŒè¯ ==========
        function validateIdCard(idCard) {
            if (!/^\d{17}[\dXx]$/.test(idCard)) return false;
            if (idCard.length === 18) {
                const weight = [7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];
                const check = ['1','0','X','9','8','7','6','5','4','3','2'];
                let sum = 0;
                for (let i = 0; i < 17; i++) sum += parseInt(idCard[i]) * weight[i];
                return idCard[17].toUpperCase() === check[sum % 11];
            }
            return true;
        }
        
        function validatePhone(phone) {
            return /^1[3-9]\d{9}$/.test(phone);
        }
        
        // ========== è¡¨å•æäº¤ ==========
        document.getElementById('studentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = {};
            const checkboxes = ['isPoorHousehold','isLeftBehindChild','isBoarder','isSingleParent','isDisabledChild'];
            
            for (let [key, value] of formData.entries()) {
                if (checkboxes.includes(key)) {
                    data[key] = value === 'on' ? 'æ˜¯' : 'å¦';
                } else {
                    data[key] = value;
                }
            }
            
            // éªŒè¯
            if (!validateIdCard(data.idCard)) return showMessage('å­¦ç”Ÿèº«ä»½è¯æ ¼å¼ä¸æ­£ç¡®ï¼', 'error');
            if (!validateIdCard(data.guardianIdCard)) return showMessage('ç›‘æŠ¤äººèº«ä»½è¯æ ¼å¼ä¸æ­£ç¡®ï¼', 'error');
            if (!validatePhone(data.guardianPhone)) return showMessage('æ‰‹æœºå·ç æ ¼å¼ä¸æ­£ç¡®ï¼', 'error');
            
            // æ£€æŸ¥é‡å¤
            if (students.find(s => s.idCard === data.idCard)) {
                return showMessage('è¯¥èº«ä»½è¯å·ç å·²æäº¤è¿‡ï¼', 'error');
            }
            
            // ä¿å­˜
            data.submissionTime = new Date().toISOString();
            data.id = Date.now();
            students.push(data);
            localStorage.setItem('students', JSON.stringify(students));
            
            showMessage('âœ… æŠ¥åæˆåŠŸï¼', 'success');
            updateStats();
            this.reset();
        });
        
        // ========== ç®¡ç†å‘˜åŠŸèƒ½ ==========
        function toggleAdmin() {
            const panel = document.getElementById('adminPanel');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        }
        
        function loginAdmin() {
            const pass = document.getElementById('adminPass').value;
            if (pass === 'admin123') {
                adminLoggedIn = true;
                document.getElementById('adminFunctions').style.display = 'block';
                showMessage('ç®¡ç†å‘˜ç™»å½•æˆåŠŸï¼', 'success');
            } else {
                showMessage('å¯†ç é”™è¯¯ï¼', 'error');
            }
        }
        
        function exportData(format) {
            if (!adminLoggedIn) return showMessage('è¯·å…ˆç™»å½•ç®¡ç†å‘˜', 'error');
            if (students.length === 0) return showMessage('æš‚æ— æ•°æ®å¯å¯¼å‡º', 'error');
            
            let content, filename;
            const date = new Date().toLocaleDateString().replace(/\//g, '-');
            
            if (format === 'json') {
                content = JSON.stringify(students, null, 2);
                filename = `å­¦ç”ŸæŠ¥åæ•°æ®_${date}.json`;
            } else {
                const headers = ['å§“å','æ€§åˆ«','æ°‘æ—','èº«ä»½è¯','å­¦ç±å·','åŸå­¦æ ¡','å»ºæ¡£ç«‹å¡','ç•™å®ˆ','ä½æ ¡','å•äº²','æ®‹ç–¾','æˆ·ç±åœ°','ç°ä½åœ°','ç›‘æŠ¤äºº','å…³ç³»','ç›‘æŠ¤äººèº«ä»½è¯','ç”µè¯','åŒ…ä¿æ•™å¸ˆ','æäº¤æ—¶é—´'];
                const rows = [headers];
                
                students.forEach(s => {
                    rows.push([
                        s.name, s.gender, s.ethnicity, s.idCard, s.studentNumber || '', s.previousSchool || '',
                        s.isPoorHousehold || 'å¦', s.isLeftBehindChild || 'å¦', s.isBoarder || 'å¦',
                        s.isSingleParent || 'å¦', s.isDisabledChild || 'å¦',
                        s.registeredAddress, s.currentAddress, s.guardianName, s.guardianRelation,
                        s.guardianIdCard, s.guardianPhone, s.responsibleTeacher || '',
                        new Date(s.submissionTime).toLocaleString()
                    ]);
                });
                
                content = rows.map(row => row.join(',')).join('\n');
                filename = `å­¦ç”ŸæŠ¥åæ•°æ®_${date}.csv`;
            }
            
            const blob = new Blob(['\ufeff' + content], { type: 'text/plain;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
            
            showMessage(`âœ… å·²å¯¼å‡º ${students.length} æ¡æ•°æ®`, 'success');
        }
        
        function viewData() {
            if (!adminLoggedIn) return showMessage('è¯·å…ˆç™»å½•ç®¡ç†å‘˜', 'error');
            
            const view = document.getElementById('dataView');
            if (students.length === 0) {
                view.innerHTML = '<p style="color:#666; padding:10px;">æš‚æ— æŠ¥åæ•°æ®</p>';
                return;
            }
            
            let html = '<table style="width:100%; border-collapse:collapse;">';
            html += '<tr style="background:#1e5799; color:white;"><th>å§“å</th><th>èº«ä»½è¯</th><th>ç”µè¯</th><th>æäº¤æ—¶é—´</th></tr>';
            
            students.slice().reverse().forEach(s => {
                html += `<tr style="border-bottom:1px solid #ddd;">
                    <td style="padding:8px;">${s.name}</td>
                    <td style="padding:8px;">${s.idCard}</td>
                    <td style="padding:8px;">${s.guardianPhone}</td>
                    <td style="padding:8px;">${new Date(s.submissionTime).toLocaleString()}</td>
                </tr>`;
            });
            
            html += '</table>';
            html += `<p style="margin-top:10px;">å…± ${students.length} æ¡è®°å½•</p>`;
            view.innerHTML = html;
        }
        
        function clearAllData() {
            if (!adminLoggedIn) return showMessage('è¯·å…ˆç™»å½•ç®¡ç†å‘˜', 'error');
            if (confirm('âš ï¸ ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
                students = [];
                localStorage.removeItem('students');
                updateStats();
                document.getElementById('dataView').innerHTML = '';
                showMessage('æ‰€æœ‰æ•°æ®å·²æ¸…ç©º', 'success');
            }
        }
    </script>
</body>
</html>